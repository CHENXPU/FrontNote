<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>精准时间获取 | Frontend-notes</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="shortcut icon" href="/frontend-notes/favicon.ico" type="image/x-icon">
    <meta name="description" content="记录知识点滴，构建完整知识体系">
    <link rel="preload" href="/frontend-notes/assets/css/0.styles.3a4941e1.css" as="style"><link rel="preload" href="/frontend-notes/assets/js/app.36b9fcce.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/2.235fd286.js" as="script"><link rel="preload" href="/frontend-notes/assets/js/105.ee3c2824.js" as="script"><link rel="prefetch" href="/frontend-notes/assets/js/10.9aca01be.js"><link rel="prefetch" href="/frontend-notes/assets/js/100.8e6f2d53.js"><link rel="prefetch" href="/frontend-notes/assets/js/101.19ef3005.js"><link rel="prefetch" href="/frontend-notes/assets/js/102.4dd7e84c.js"><link rel="prefetch" href="/frontend-notes/assets/js/103.1026a7bd.js"><link rel="prefetch" href="/frontend-notes/assets/js/104.81eec4a1.js"><link rel="prefetch" href="/frontend-notes/assets/js/106.ff67ebf8.js"><link rel="prefetch" href="/frontend-notes/assets/js/107.fc2c0a9d.js"><link rel="prefetch" href="/frontend-notes/assets/js/108.3e963503.js"><link rel="prefetch" href="/frontend-notes/assets/js/109.dc566506.js"><link rel="prefetch" href="/frontend-notes/assets/js/11.22a43c5e.js"><link rel="prefetch" href="/frontend-notes/assets/js/110.af854911.js"><link rel="prefetch" href="/frontend-notes/assets/js/111.f8773674.js"><link rel="prefetch" href="/frontend-notes/assets/js/112.a3ed0a07.js"><link rel="prefetch" href="/frontend-notes/assets/js/113.a05e95d1.js"><link rel="prefetch" href="/frontend-notes/assets/js/114.2a5c24e8.js"><link rel="prefetch" href="/frontend-notes/assets/js/115.cf0ff735.js"><link rel="prefetch" href="/frontend-notes/assets/js/116.68b56050.js"><link rel="prefetch" href="/frontend-notes/assets/js/117.2faea8e0.js"><link rel="prefetch" href="/frontend-notes/assets/js/118.b0ced13d.js"><link rel="prefetch" href="/frontend-notes/assets/js/119.8b87d00c.js"><link rel="prefetch" href="/frontend-notes/assets/js/12.6e9e9c05.js"><link rel="prefetch" href="/frontend-notes/assets/js/120.d4a590fd.js"><link rel="prefetch" href="/frontend-notes/assets/js/121.fd0eabf2.js"><link rel="prefetch" href="/frontend-notes/assets/js/122.3d427694.js"><link rel="prefetch" href="/frontend-notes/assets/js/123.c8ba5bc7.js"><link rel="prefetch" href="/frontend-notes/assets/js/124.e8591142.js"><link rel="prefetch" href="/frontend-notes/assets/js/125.0e61479e.js"><link rel="prefetch" href="/frontend-notes/assets/js/126.43536af3.js"><link rel="prefetch" href="/frontend-notes/assets/js/127.96b9dad3.js"><link rel="prefetch" href="/frontend-notes/assets/js/128.9a8944e1.js"><link rel="prefetch" href="/frontend-notes/assets/js/129.f946f89d.js"><link rel="prefetch" href="/frontend-notes/assets/js/13.9cca68c3.js"><link rel="prefetch" href="/frontend-notes/assets/js/130.2b6e472b.js"><link rel="prefetch" href="/frontend-notes/assets/js/131.10ae0006.js"><link rel="prefetch" href="/frontend-notes/assets/js/132.7ab0cd7c.js"><link rel="prefetch" href="/frontend-notes/assets/js/133.4a7512fa.js"><link rel="prefetch" href="/frontend-notes/assets/js/134.bacb1264.js"><link rel="prefetch" href="/frontend-notes/assets/js/135.e28f76e2.js"><link rel="prefetch" href="/frontend-notes/assets/js/136.39cff817.js"><link rel="prefetch" href="/frontend-notes/assets/js/137.de5d296b.js"><link rel="prefetch" href="/frontend-notes/assets/js/138.1df6d1e0.js"><link rel="prefetch" href="/frontend-notes/assets/js/139.cdce63ed.js"><link rel="prefetch" href="/frontend-notes/assets/js/14.9f709c5a.js"><link rel="prefetch" href="/frontend-notes/assets/js/140.f7bf689f.js"><link rel="prefetch" href="/frontend-notes/assets/js/141.a141b749.js"><link rel="prefetch" href="/frontend-notes/assets/js/142.e6d2fa1c.js"><link rel="prefetch" href="/frontend-notes/assets/js/143.7b3669a0.js"><link rel="prefetch" href="/frontend-notes/assets/js/144.49c47601.js"><link rel="prefetch" href="/frontend-notes/assets/js/145.5c3fba4e.js"><link rel="prefetch" href="/frontend-notes/assets/js/146.eb2145d3.js"><link rel="prefetch" href="/frontend-notes/assets/js/147.9c6c7c9f.js"><link rel="prefetch" href="/frontend-notes/assets/js/148.b5838ae1.js"><link rel="prefetch" href="/frontend-notes/assets/js/149.b5619052.js"><link rel="prefetch" href="/frontend-notes/assets/js/15.505e5fcb.js"><link rel="prefetch" href="/frontend-notes/assets/js/150.600c7470.js"><link rel="prefetch" href="/frontend-notes/assets/js/151.fc03d21d.js"><link rel="prefetch" href="/frontend-notes/assets/js/152.f5917cb2.js"><link rel="prefetch" href="/frontend-notes/assets/js/153.f87d1088.js"><link rel="prefetch" href="/frontend-notes/assets/js/154.c0085569.js"><link rel="prefetch" href="/frontend-notes/assets/js/155.bc944afb.js"><link rel="prefetch" href="/frontend-notes/assets/js/156.1aeace25.js"><link rel="prefetch" href="/frontend-notes/assets/js/157.b85de25f.js"><link rel="prefetch" href="/frontend-notes/assets/js/158.92e0c319.js"><link rel="prefetch" href="/frontend-notes/assets/js/159.28d65c10.js"><link rel="prefetch" href="/frontend-notes/assets/js/16.6aecff6e.js"><link rel="prefetch" href="/frontend-notes/assets/js/160.426058f1.js"><link rel="prefetch" href="/frontend-notes/assets/js/161.b0f06053.js"><link rel="prefetch" href="/frontend-notes/assets/js/162.ba16d7f8.js"><link rel="prefetch" href="/frontend-notes/assets/js/163.fde478cc.js"><link rel="prefetch" href="/frontend-notes/assets/js/164.3a0e6420.js"><link rel="prefetch" href="/frontend-notes/assets/js/165.dc135845.js"><link rel="prefetch" href="/frontend-notes/assets/js/166.99fd1977.js"><link rel="prefetch" href="/frontend-notes/assets/js/167.3ca55010.js"><link rel="prefetch" href="/frontend-notes/assets/js/17.4c926eea.js"><link rel="prefetch" href="/frontend-notes/assets/js/18.4478607f.js"><link rel="prefetch" href="/frontend-notes/assets/js/19.fb2794d3.js"><link rel="prefetch" href="/frontend-notes/assets/js/20.744cddc7.js"><link rel="prefetch" href="/frontend-notes/assets/js/21.0e2c00ea.js"><link rel="prefetch" href="/frontend-notes/assets/js/22.0dd36864.js"><link rel="prefetch" href="/frontend-notes/assets/js/23.45ca4973.js"><link rel="prefetch" href="/frontend-notes/assets/js/24.a9034f1f.js"><link rel="prefetch" href="/frontend-notes/assets/js/25.1816db2b.js"><link rel="prefetch" href="/frontend-notes/assets/js/26.ef7ce1aa.js"><link rel="prefetch" href="/frontend-notes/assets/js/27.8f10b307.js"><link rel="prefetch" href="/frontend-notes/assets/js/28.2017927b.js"><link rel="prefetch" href="/frontend-notes/assets/js/29.45432047.js"><link rel="prefetch" href="/frontend-notes/assets/js/3.b4ec45c9.js"><link rel="prefetch" href="/frontend-notes/assets/js/30.de8df724.js"><link rel="prefetch" href="/frontend-notes/assets/js/31.40f9f423.js"><link rel="prefetch" href="/frontend-notes/assets/js/32.09d96e22.js"><link rel="prefetch" href="/frontend-notes/assets/js/33.01b900fd.js"><link rel="prefetch" href="/frontend-notes/assets/js/34.50f62839.js"><link rel="prefetch" href="/frontend-notes/assets/js/35.8abecddc.js"><link rel="prefetch" href="/frontend-notes/assets/js/36.c60b4a77.js"><link rel="prefetch" href="/frontend-notes/assets/js/37.70b6021f.js"><link rel="prefetch" href="/frontend-notes/assets/js/38.4114fd88.js"><link rel="prefetch" href="/frontend-notes/assets/js/39.00f13e25.js"><link rel="prefetch" href="/frontend-notes/assets/js/4.81343487.js"><link rel="prefetch" href="/frontend-notes/assets/js/40.9fae78f8.js"><link rel="prefetch" href="/frontend-notes/assets/js/41.6ed1caed.js"><link rel="prefetch" href="/frontend-notes/assets/js/42.e4dc8bd6.js"><link rel="prefetch" href="/frontend-notes/assets/js/43.62d96215.js"><link rel="prefetch" href="/frontend-notes/assets/js/44.84d1250a.js"><link rel="prefetch" href="/frontend-notes/assets/js/45.b4155334.js"><link rel="prefetch" href="/frontend-notes/assets/js/46.196f13aa.js"><link rel="prefetch" href="/frontend-notes/assets/js/47.25cdeb64.js"><link rel="prefetch" href="/frontend-notes/assets/js/48.e6e71b10.js"><link rel="prefetch" href="/frontend-notes/assets/js/49.6af7f6e4.js"><link rel="prefetch" href="/frontend-notes/assets/js/5.d103f2e1.js"><link rel="prefetch" href="/frontend-notes/assets/js/50.5997c7ef.js"><link rel="prefetch" href="/frontend-notes/assets/js/51.82b0e0d3.js"><link rel="prefetch" href="/frontend-notes/assets/js/52.916bebc8.js"><link rel="prefetch" href="/frontend-notes/assets/js/53.e0f844b5.js"><link rel="prefetch" href="/frontend-notes/assets/js/54.4a9c84cb.js"><link rel="prefetch" href="/frontend-notes/assets/js/55.fb8767d1.js"><link rel="prefetch" href="/frontend-notes/assets/js/56.245217b2.js"><link rel="prefetch" href="/frontend-notes/assets/js/57.65e0326f.js"><link rel="prefetch" href="/frontend-notes/assets/js/58.d1fd8631.js"><link rel="prefetch" href="/frontend-notes/assets/js/59.6586f515.js"><link rel="prefetch" href="/frontend-notes/assets/js/6.80d65751.js"><link rel="prefetch" href="/frontend-notes/assets/js/60.e7087b2e.js"><link rel="prefetch" href="/frontend-notes/assets/js/61.30b7297d.js"><link rel="prefetch" href="/frontend-notes/assets/js/62.a8e1b655.js"><link rel="prefetch" href="/frontend-notes/assets/js/63.0fef25e0.js"><link rel="prefetch" href="/frontend-notes/assets/js/64.8d7f231b.js"><link rel="prefetch" href="/frontend-notes/assets/js/65.aaa212e2.js"><link rel="prefetch" href="/frontend-notes/assets/js/66.10c4c3b7.js"><link rel="prefetch" href="/frontend-notes/assets/js/67.47c8abae.js"><link rel="prefetch" href="/frontend-notes/assets/js/68.6e5faf33.js"><link rel="prefetch" href="/frontend-notes/assets/js/69.9473d17b.js"><link rel="prefetch" href="/frontend-notes/assets/js/7.197d92e4.js"><link rel="prefetch" href="/frontend-notes/assets/js/70.b350c857.js"><link rel="prefetch" href="/frontend-notes/assets/js/71.4977a388.js"><link rel="prefetch" href="/frontend-notes/assets/js/72.0520ed4a.js"><link rel="prefetch" href="/frontend-notes/assets/js/73.64f7aeba.js"><link rel="prefetch" href="/frontend-notes/assets/js/74.e5dbda37.js"><link rel="prefetch" href="/frontend-notes/assets/js/75.99a3512a.js"><link rel="prefetch" href="/frontend-notes/assets/js/76.a20512c9.js"><link rel="prefetch" href="/frontend-notes/assets/js/77.f738cd0b.js"><link rel="prefetch" href="/frontend-notes/assets/js/78.b8beaf9d.js"><link rel="prefetch" href="/frontend-notes/assets/js/79.44b20064.js"><link rel="prefetch" href="/frontend-notes/assets/js/8.9ff277ed.js"><link rel="prefetch" href="/frontend-notes/assets/js/80.99035ef1.js"><link rel="prefetch" href="/frontend-notes/assets/js/81.8998fbe0.js"><link rel="prefetch" href="/frontend-notes/assets/js/82.e104690b.js"><link rel="prefetch" href="/frontend-notes/assets/js/83.f1ee9f16.js"><link rel="prefetch" href="/frontend-notes/assets/js/84.41e5c574.js"><link rel="prefetch" href="/frontend-notes/assets/js/85.173a0b70.js"><link rel="prefetch" href="/frontend-notes/assets/js/86.4ac66e56.js"><link rel="prefetch" href="/frontend-notes/assets/js/87.2f2ee4d4.js"><link rel="prefetch" href="/frontend-notes/assets/js/88.c538843b.js"><link rel="prefetch" href="/frontend-notes/assets/js/89.11fe64ff.js"><link rel="prefetch" href="/frontend-notes/assets/js/9.a2188ff2.js"><link rel="prefetch" href="/frontend-notes/assets/js/90.f5d29c63.js"><link rel="prefetch" href="/frontend-notes/assets/js/91.9179682b.js"><link rel="prefetch" href="/frontend-notes/assets/js/92.3acce097.js"><link rel="prefetch" href="/frontend-notes/assets/js/93.afeb8684.js"><link rel="prefetch" href="/frontend-notes/assets/js/94.9b0af509.js"><link rel="prefetch" href="/frontend-notes/assets/js/95.0ba06760.js"><link rel="prefetch" href="/frontend-notes/assets/js/96.b14a2817.js"><link rel="prefetch" href="/frontend-notes/assets/js/97.fe008acd.js"><link rel="prefetch" href="/frontend-notes/assets/js/98.44f1008c.js"><link rel="prefetch" href="/frontend-notes/assets/js/99.c35587aa.js">
    <link rel="stylesheet" href="/frontend-notes/assets/css/0.styles.3a4941e1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/frontend-notes/" class="home-link router-link-active"><!----> <span class="site-name">Frontend-notes</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://xinpuchen.github.io/awesome-coding/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法练习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://xinpuchen.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/xinpuchen/frontend-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://xinpuchen.github.io/awesome-coding/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  算法练习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://xinpuchen.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://github.com/xinpuchen/frontend-notes" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>HTML</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端框架</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端工程化</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>前端安全</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>前端性能优化</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend-notes/前端性能优化/前端性能优化.html" class="sidebar-link">前端性能优化</a></li><li><a href="/frontend-notes/前端性能优化/白屏问题和FOUC.html" class="sidebar-link">白屏问题和 FOUC</a></li><li><a href="/frontend-notes/前端性能优化/精准时间获取.html" class="active sidebar-link">精准时间获取</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="精准时间获取"><a href="#精准时间获取" class="header-anchor">#</a> 精准时间获取</h1> <h2 id="window-performance"><a href="#window-performance" class="header-anchor">#</a> window.performance</h2> <ol><li><p>memory: 代表 JavaScript 对内存的占用</p></li> <li><p>navigation：统计的是一些网页导航相关的数据</p> <ul><li>redirectCount:重定向的数量（只读），但是这个接口有同源策略限制，即仅能检测同源的重定向</li> <li>type 返回值应该是 0,1,2 中的一个。分别对应三个枚举值:
0 : TYPE_NAVIGATE (用户通过常规导航方式访问页面，比如点一个链接，或者一般的 get 方式)
1 : TYPE_RELOAD (用户通过刷新，包括 JS 调用刷新接口等方式访问页面)
2 : TYPE_BACK_FORWARD (用户通过后退按钮访问本页面)</li></ul></li> <li><p>timing:</p> <ul><li>startTime：有些浏览器实现为 navigationStart，代表浏览器开始 unload 前一个页面文档的开始时间节点。比如我们当前正在浏览 baidu.com，在地址栏输入 google.com 并回车，浏览器的执行动作依次为：unload 当前文档（即 baidu.com）-&gt;请求下一文档（即 google.com）。navigationStart 的值便是触发 unload 当前文档的时间节点。如果当前文档为空，则 navigationStart 的值等于 fetchStart。</li> <li>redirectStart 和 redirectEnd：如果页面是由 redirect 而来，则 redirectStart 和 redirectEnd 分别代表 redirect 开始和结束的时间节点；</li> <li>unloadEventStart 和 unloadEventEnd：如果前一个文档和请求的文档是同一个域的，则 unloadEventStart 和 unloadEventEnd 分别代表浏览器 unload 前一个文档的开始和结束时间节点。否则两者都等于 0；</li> <li>fetchStart 是指在浏览器发起任何请求之前的时间值。在 fetchStart 和 domainLookupStart 之间，浏览器会检查当前文档的缓存；</li> <li>domainLookupStart 和 domainLookupEnd 分别代表 DNS 查询的开始和结束时间节点。如果浏览器没有进行 DNS 查询（比如使用了 cache），则两者的值都等于 fetchStart；</li> <li>connectStart 和 connectEnd 分别代表 TCP 建立连接和连接成功的时间节点。如果浏览器没有进行 TCP 连接（比如使用持久化连接 webscoket），则两者都等于 domainLookupEnd；</li> <li>secureConnectionStart：可选。如果页面使用 HTTPS，它的值是安全连接握手之前的时刻。如果该属性不可用，则返回 undefined。如果该属性可用，但没有使用 HTTPS，则返回 0；</li> <li>requestStart 代表浏览器发起请求的时间节点，请求的方式可以是请求服务器、缓存、本地资源等；</li> <li>responseStart 和 responseEnd 分别代表浏览器收到从服务器端（或缓存、本地资源）响应回的第一个字节和最后一个字节数据的时刻；</li> <li>domLoading 代表浏览器开始解析 html 文档的时间节点。我们知道 IE 浏览器下的 document 有 readyState 属性，domLoading 的值就等于 readyState 改变为 loading 的时间节点；</li> <li>domInteractive 代表浏览器解析 html 文档的状态为 interactive 时的时间节点。domInteractive 并非 DOMReady，它早于 DOMReady 触发，代表 html 文档解析完毕（即 dom tree 创建完成）但是内嵌资源（比如外链 css、js 等）还未加载的时间点；</li> <li>domContentLoadedEventStart：代表 DOMContentLoaded 事件触发的时间节点：
页面文档完全加载并解析完毕之后,会触发 DOMContentLoaded 事件，HTML 文档不会等待样式文件,图片文件,子框架页面的加载(load 事件可以用来检测 HTML 页面是否完全加载完毕(fully-loaded))。</li> <li>domContentLoadedEventEnd：代表 DOMContentLoaded 事件完成的时间节点，此刻用户可以对页面进行操作，也就是 jQuery 中的 domready 时间；</li> <li>domComplete：html 文档完全解析完毕的时间节点；</li> <li>loadEventStart 和 loadEventEnd 分别代表 onload 事件触发和结束的时间节点</li></ul></li></ol> <blockquote><p>提示：</p></blockquote> <blockquote><p>浏览器使用 performance.now() 可以获取 performance.timing.navigationStart 到当前时间的微秒数</p></blockquote> <blockquote><p>performance.timing.navigationStart + performance.now() 约等于 Date.now()</p></blockquote> <h2 id="相关时间计算"><a href="#相关时间计算" class="header-anchor">#</a> 相关时间计算</h2> <ul><li>DNS 查询耗时 = domainLookupEnd - domainLookupStart</li> <li>TCP 链接耗时 = connectEnd - connectStart</li> <li>request 请求耗时 = responseEnd - requestStart</li> <li>解析 dom 树耗时 = domComplete - domInteractive</li> <li>白屏时间 = domloading - fetchStart</li> <li>domready 可操作时间 = domContentLoadedEventEnd - fetchStart</li> <li>onload 总下载时间 = loadEventEnd - fetchStart</li></ul> <h2 id="静态资源的时间计算"><a href="#静态资源的时间计算" class="header-anchor">#</a> 静态资源的时间计算</h2> <p>performance.getEntries()，用来统计静态资源相关的时间信息返回一个数组，数组的每个元素代表对应的静态资源的信息</p> <h2 id="node-环境运行时间计算"><a href="#node-环境运行时间计算" class="header-anchor">#</a> Node 环境运行时间计算</h2> <p>node 环境使用 process.hrtime() 方法返回当前时间以 [seconds, nanoseconds] 元数组表示的高精度解析值，其中 nanoseconds 是当前时间无法使用秒的精度表示的剩余部分</p> <blockquote><p>time 是可选参数，传入的值是上一次调用 process.hrtime() 返回的结果，用于与当次调用做差值计算</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> time <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">hrtime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [444199, 614056016]</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">hrtime</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// [(3, 16256093)];</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/23/2020, 9:13:37 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend-notes/前端性能优化/白屏问题和FOUC.html" class="prev">
        白屏问题和 FOUC
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/frontend-notes/assets/js/app.36b9fcce.js" defer></script><script src="/frontend-notes/assets/js/2.235fd286.js" defer></script><script src="/frontend-notes/assets/js/105.ee3c2824.js" defer></script>
  </body>
</html>
